:root{
  --bg:#0e0f12; --surface:#14161a; --text:#e6e7eb; --muted:#9aa3b2; --brand:#ff7a1a; --border:#2a2e36;
  --fs-300:clamp(.9rem,.86rem + .2vw,1rem);
  --fs-400:clamp(1rem,.95rem + .35vw,1.125rem);
  --fs-500:clamp(1.1rem,1rem + .7vw,1.35rem);
  --fs-600:clamp(1.25rem,1.1rem + 1.2vw,1.7rem);
  --fs-700:clamp(1.5rem,1.25rem + 2vw,2.1rem);
  --radius:16px; --shadow:0 8px 30px rgba(0,0,0,.25); --maxw:1200px; --bg-blur:8px; --bg-overlay:rgba(0,0,0,.55);
}
[data-theme="light"]{
  --bg:#f3f5f7; --surface:#fff; --text:#1f2937; --muted:#475569; --brand:#2563eb; --border:#e6e7eb; --bg-overlay:rgba(255,255,255,.55);
}

*{box-sizing:border-box}
body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--bg);line-height:1.55}
.container{width:min(100% - 2rem, var(--maxw));margin-inline:auto}
.site-bg{position:fixed;inset:0;background:linear-gradient(var(--bg-overlay),var(--bg-overlay)),center/cover no-repeat url("../img/background.jpg");filter:blur(var(--bg-blur));transform:scale(1.02);z-index:-1}

/* Header */
.site-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 0 .75rem}
.brand{display:inline-flex;align-items:center;gap:.6rem;text-decoration:none;color:inherit}
.brand__logo{width:40px;height:40px;display:block}
.brand__title{font-weight:700;font-size:var(--fs-500);letter-spacing:.2px}
.top-nav{display:flex;align-items:center;gap:.5rem}
.auth-area{display:flex;align-items:center;gap:.5rem}

/* Buttons */
.btn{border:1px solid var(--border);background:transparent;color:var(--text);padding:.55rem .9rem;border-radius:999px;cursor:pointer;transition:transform .12s ease, background .2s ease, border-color .2s ease}
.btn:hover{transform:translateY(-1px);border-color:var(--brand)}
.btn--ghost{background:rgba(255,255,255,.02)}
.btn--primary{background:var(--brand);color:white;border-color:var(--brand)}
.badge{display:inline-block;min-width:1.5em;padding:0 .4em;text-align:center;border-radius:999px;background:color-mix(in srgb, var(--brand) 25%, transparent);border:1px solid var(--border);margin-left:.4rem}
.icon-btn{border:1px solid var(--border);background:color-mix(in srgb, var(--surface) 85%, transparent);width:38px;height:38px;border-radius:12px;display:grid;place-items:center;cursor:pointer}
.icon-btn:hover{border-color:var(--brand)}
.icon{width:18px;height:18px;display:block}

/* Views */
.view{display:block}
.is-hidden{display:none !important}
.view-head{display:flex;justify-content:space-between;align-items:center;margin:.5rem 0 1rem}

/* Tabs / Panels */
.tabs,.auth-tabs{display:flex;gap:.5rem;margin:.5rem 0 1rem}
.tab{border:1px solid var(--border);background:transparent;color:var(--text);padding:.5rem .9rem;border-radius:12px;cursor:pointer}
.tab.is-active{border-color:var(--brand)}
.panel{border:1px solid var(--border);border-radius:16px;padding:1rem;background:color-mix(in srgb, var(--surface) 90%, transparent)}

/* Forms */
.control{display:grid;gap:.35rem;margin:.5rem 0}
.control input, .control select{background:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:10px;padding:.5rem .7rem}
.row{display:flex;justify-content:space-between;align-items:center;gap:.75rem}
.muted{color:var(--muted)}
.fs-sm{font-size:var(--fs-300)}
.mt-1{margin-top:1rem}

/* Filters */
.controls{display:flex;gap:1rem;flex-wrap:wrap;align-items:center;padding:1rem;background:color-mix(in srgb, var(--surface) 80%, transparent);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);margin:1rem 0}
.site-nav{display:flex;gap:.5rem;flex-wrap:wrap}

/* Grid & Cards */
.grid{display:grid;grid-template-columns:repeat(12,1fr);gap:1rem}
.card{grid-column:span 12;background:color-mix(in srgb, var(--surface) 92%, transparent);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;box-shadow:var(--shadow);cursor:pointer;transition:transform .12s ease,border-color .2s ease}
.card:hover{transform:translateY(-2px);border-color:var(--brand)}
.card p{color:var(--muted);margin:.25rem 0 0}
@media (min-width:600px){.card{grid-column:span 6}}
@media (min-width:980px){.card{grid-column:span 4}}

.card__media{margin:0 0 .75rem;border-radius:calc(var(--radius) - 4px);overflow:hidden;border:1px solid var(--border);background:color-mix(in srgb, var(--surface) 85%, transparent);aspect-ratio:16/10;display:grid;place-items:center}
.card__media img{width:100%;height:100%;object-fit:cover;display:block}
.price-row{display:flex;justify-content:space-between;align-items:center;margin-top:.6rem;gap:.6rem}
.price{font-weight:700}
.stock{font-size:var(--fs-300);color:var(--muted)}

/* Status chip & timeline */
.status{display:inline-block;padding:.2rem .55rem;border:1px solid var(--border);border-radius:999px;font-size:var(--fs-300)}
.status--pending{border-color:#f59e0b}
.status--approved{border-color:#3b82f6}
.status--preparing{border-color:#8b5cf6}
.status--in_transit{border-color:#f59e0b}
.status--delivered{border-color:#10b981}
.timeline{list-style:none;margin:.5rem 0 0;padding:0;border-left:1px dashed var(--border)}
.timeline li{padding:.25rem .5rem .25rem .75rem;margin-left:.5rem;color:var(--muted)}
.timeline time{opacity:.8}

/* Notes / warnings */
.note{border:1px dashed var(--border);border-radius:10px;padding:.6rem .7rem;background:color-mix(in srgb, var(--surface) 95%, transparent)}
.warn{border-color:#f59e0b;color:#f59e0b}

/* Modal */
.modal{position:fixed;inset:0;display:none;z-index:40}
.modal[aria-hidden="false"]{display:block}
.modal__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(2px)}
.modal__panel{position:relative;margin:6vh auto 0;max-width:560px;background:var(--surface);border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow);overflow:hidden}
.modal__header,.modal__footer{padding:1rem;border-bottom:1px solid var(--border)}
.modal__footer{border-bottom:0;border-top:1px solid var(--border);display:flex;justify-content:flex-end;gap:.5rem}
.modal__body{padding:1rem;display:grid;gap:1rem}
.modal__product{display:grid;grid-template-columns:96px 1fr;gap:.75rem;align-items:center}
.modal__product img{width:96px;height:72px;object-fit:cover;border-radius:8px;border:1px solid var(--border)}
.modal__name{font-weight:700}
.modal__desc{color:var(--muted)}
.calc{display:flex;justify-content:space-between;align-items:center;border-top:1px dashed var(--border);padding-top:.5rem;margin-top:.25rem}

/* Drawer (Cart only) */
.drawer{position:fixed;inset:0;display:none;z-index:45}
.drawer[aria-hidden="false"]{display:block}
.drawer__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.4)}
.drawer__panel{position:absolute;right:0;top:0;bottom:0;width:min(520px,100%);background:var(--surface);border-left:1px solid var(--border);box-shadow:var(--shadow);display:grid;grid-template-rows:auto 1fr auto}
.drawer__header,.drawer__footer{padding:1rem;border-bottom:1px solid var(--border)}
.drawer__footer{border-bottom:0;border-top:1px solid var(--border);display:grid;gap:.5rem}
.drawer__body{padding:.5rem 1rem;display:grid;gap:.75rem;max-height:100%;overflow:auto}
.cart-item{display:grid;grid-template-columns:64px 1fr auto;gap:.75rem;align-items:center;border:1px solid var(--border);border-radius:12px;padding:.5rem;background:color-mix(in srgb, var(--surface) 90%, transparent)}
.cart-item img{width:64px;height:48px;object-fit:cover;border-radius:8px;border:1px solid var(--border)}
.cart-item__name{font-weight:600}
.cart-item__meta{color:var(--muted);font-size:var(--fs-300)}
.cart-item__actions{display:grid;gap:.4rem}
.cart-item__btn{border:1px solid var(--border);border-radius:999px;padding:.25rem .6rem;background:transparent;color:var(--text);cursor:pointer}
.cart-item__btn:hover{border-color:var(--brand)}

.order-card{border:1px solid var(--border);border-radius:12px;padding:.75rem;background:color-mix(in srgb, var(--surface) 90%, transparent)}
.order-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:.4rem}
.order-lines{display:grid;gap:.4rem;margin-top:.4rem}
.order-actions{display:grid;gap:.5rem;margin-top:.6rem}

/* Stacks */
.stack{display:grid;gap:.8rem}

/* Tables */
.table{width:100%;border-collapse:collapse}
.table th,.table td{border:1px solid var(--border);padding:.6rem .7rem}
.table th{background:color-mix(in srgb, var(--surface) 90%, transparent);text-align:left}

/* Toast */
.toast{position:fixed;right:16px;bottom:16px;display:grid;gap:.5rem;z-index:60}
.toast .t{background:color-mix(in srgb, var(--surface) 96%, transparent);border:1px solid var(--border);color:var(--text);padding:.6rem .8rem;border-radius:10px;box-shadow:var(--shadow)}
.toast .ok{border-color:#10b981}
.toast .warn{border-color:#f59e0b}
.toast .err{border-color:#ef4444}

/* Footer */
.site-footer{padding:2rem 0 3rem;color:var(--muted);text-align:center;font-size:var(--fs-300)}

/* Focus */
:where(a,button,input,select):focus-visible{outline:2px solid var(--brand);outline-offset:2px}
